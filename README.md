Este script maneja múltiples servicios y dispositivos, agrupados en diferentes categorías. Aquí está la lista completa:

🔌 Dispositivos y Domótica

Philips Hue – Control de luces a través del Hue Bridge.

Nuki Smart Lock – Gestión de accesos con Nuki Opener y Nuki Smart Lock.

Netatmo – Monitorización de temperatura, CO₂ y lluvia con Netatmo Weather Station.


🌍 Servicios en la Nube


OpenWeather – Obtención de datos meteorológicos y pronósticos.

DuckDNS – Actualización dinámica de IP pública en DuckDNS.

Tautulli – Monitorización de sesiones de Plex Server.

ip-api.com – Obtención de información sobre el ISP asociado a una IP pública.

ipify.org – Obtención de la IP pública actual.


📡 Red y Servidores


QNAP NAS – Monitoreo y control del servidor NAS (CPU, RAM, tráfico de red, estado de encendido/apagado).

Wake-on-LAN (WoL) – Encendido del NAS QNAP mediante paquete mágico.

qBittorrent – Monitorización de descargas activas en qBittorrent.

Open Hardware Monitor (OHM) – Recolección de métricas de hardware en un miniPC con Windows.

MikroTik Router (opcional, en tu caso puede ser UniFi) – Monitoreo de estado de IPs públicas y privadas.


📨 Bot de Telegram


Pyrogram (Telegram API) – Control y notificaciones en Telegram, incluyendo:

Resumen de estado de todos los servicios.

Control remoto de luces, accesos, NAS y más.

Mensajes interactivos con botones dinámicos.


🔍 Monitoreo de IPs y Conectividad


Ping y Latencia – Monitoreo de latencia de IPs públicas y privadas.

Escaneo de Puertos Abiertos – Detección de servicios activos como:

Plex (Puerto 32400).

WireGuard (Puertos 51820, 51821).

Consulta de velocidades de red – Monitoreo de ancho de banda del NAS QNAP.


🛠️ Resumen General:


✅ Domótica: Philips Hue, Nuki, Netatmo

✅ Clima: OpenWeather

✅ Multimedia: Plex (Tautulli), qBittorrent

✅ Red y Conectividad: MikroTik/UniFi, QNAP NAS, Wake-on-LAN

✅ Monitorización: Open Hardware Monitor, Ping, Latencia, Escaneo de Puertos

✅ Bot de Control: Pyrogram (Telegram Bot API)


Este script es un centro de monitoreo completo, combinando IoT, multimedia, red, clima y domótica, con control en Telegram. 🚀


🌐 Monitoreo de Servicios 🌐

📡 IP Pública: 1.1.1.1


🏢 ISP: Telefonica de Espana SAU

🦆 DuckDNS: ✅ DuckDNS actualizado correctamente


🔹 DuckDNS Domain: ******


💻 miniPC Server:

• CPU Load: 12,4 %

• CPU Temp: 47,0 °C

• Memory Used: 11,6 GB

• Download Speed: 64,8 KB/s

• Upload Speed: 15,1 KB/s


📁 QnaP Server:


• CPU: 22.87%

🟩🟩⬜⬜⬜⬜⬜⬜⬜⬜

• RAM: 6015.26 MB (37%)

🟩🟩🟩🟩⬜⬜⬜⬜⬜⬜

• Download: 589.52 KB

⬜⬜⬜⬜⬜⬜⬜⬜⬜⬜

• Upload: 6.25 MB

🟦⬜⬜⬜⬜⬜⬜⬜⬜⬜

• 🎞 Sesiones activas:

   - 🎬 kikoso - Demolition Man (Resolución: 1080, transcode)

   🟧🟧⬜️⬜️⬜️⬜️⬜️⬜️⬜️⬜️ 26% ▶️


📥 Descargas en Qbit:

(Últimas finalizadas)

🔹[Peliculas] Demolition Man (1993) [... - Completado

🔹[ID:7d42a159] Separacion S02E09 [AP... - Completado

🔹[ID:e9088dc4] Robotia la pelicula (... - Completado


🌍 IPs Públicas Monitorizadas:

• 🟢 Google -> 8.8.8.8 12.2ms


🏠 IPs Privadas Monitorizadas:

• 🔴 disp1 -> 192.168.0.38

• 🟢 disp2 -> 192.168.0.224 0.861ms

• 🟢 disp3 -> 192.168.0.76 3.69ms


🌤 Openweather:

⏰ Hora de obtención: 11:16:54

🔸Estado: Muy nuboso ☁️

🔸Fase Lunar: 🌕

🔹Probabilidad de precipitación: 55% 🌧


🏙 Temperatura: 7.03°C (sensación: 5°C)

🟩🟩🟩⬜⬜⬜⬜⬜⬜⬜

💨 Viento: 11 km/h ↗ Gregal (NE)

🟨🟨⬜⬜⬜⬜⬜⬜⬜⬜

🔆 Índice UV: 3.31

🟨🟨🟨⬜⬜⬜⬜⬜⬜⬜


🔸Pronóstico por hora:

🕑 13 ☁️ | 🌡️ 8.2°C | 💧 57% | 🌬️ 8 km/h 

🕑 14 🌧️ | 🌡️ 9.1°C | 💧 78% | 🌬️ 8 km/h 

🕑 15 🌧️ | 🌡️ 9.8°C | 💧 83% | 🌬️ 9 km/h 

🕑 16 🌧️ | 🌡️ 9.4°C | 💧 77% | 🌬️ 11 km/h 

🕑 17 🌧️ | 🌡️ 8.3°C | 💧 78% | 🌬️ 9 km/h 

🔸Pronostico:

📅 16 ☁️ | 🌡️ 11.3°C | 💧 59% | 🌬️ 13 km/h 

📅 17 ☁️ | 🌡️ 12.9°C | 💧 0% | 🌬️ 12 km/h 

📅 18 🌧️ | 🌡️ 12.9°C | 💧 100% | 🌬️ 11 km/h 


🌦 Netatmo:

⏰ Hora de obtención: 11:35:51

🏡 Comedor 19.4°C

🟨🟨🟨🟨🟨🟨⬜⬜⬜⬜ CO₂: 🟢 481 ppm

🏡 Dormitorio 19.3°C

🟨🟨🟨🟨🟨🟨⬜⬜⬜⬜ CO₂: 🟠 1033 ppm

🏡 Terraza 8.9°C

🟩🟩🟩🟩⬜⬜⬜⬜⬜⬜


🌧 Lluvia:

🌊 Últimas 24h:

🟦⬜⬜⬜⬜⬜⬜⬜⬜⬜ (0.3 mm)


💡 Iluminación:

• 🟡 Comedor (09:00:21)


🚪 Accesos:

• EntradaPiso: Desbloqueado (18:53:12)

• Batería: 🔋 (82%)


🔓 Puertos abiertos en IP Pública:

• Plex: 32400


🕒 Última actualización: 11:39:31

🔄 Cambio de IP hace: 67 hrs 53 min

📤 IP anterior: 1.1.1.1
